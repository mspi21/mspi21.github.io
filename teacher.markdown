---
layout: page
title: teacher
display-title: informace pro studenty
permalink: /teacher/
lang: cs
---

## BI-PA1.21

### Kontakt

- [spinkmil@fit.cvut.cz](mailto:spinkmil@fit.cvut.cz)
- prosím tykejte, jsem student stejně jako vy :D
- do předmětu e-mailu ideálně napište prefix \[PA1\], ať ho kdyžtak snadno vyhledám
- e-maily posílejte ze školní adresy a do kopie přidejte druhého cvičícího
- možnost je zeptat se i na [neoficiálním studentském Discordu](https://discord.fit.cvut.cz/){:target="_blank"} 

### Materiály ze cvičení

- naleznete na [Courses předmětu PA1](https://courses.fit.cvut.cz/BI-PA1.21){:target="_blank"} na stránce Honzy Matouška, případně ve Cvičebnici

### Doporučení pro úspěšné studium

- **Nenechte si ujet vlak.** Nejdůležitější látka skoro v každém předmětu je na začátku --- když nebudete rozumět základům, bude pro vás celý semestr strašně náročný. I když třeba už nějakou dobu programujete a v prvním týdnu se vám bude zdát, že je to přece věechno jasné, nenabyjte mylného dojmu, že to pro vás bude lehké. Zaprvé je rozdíl mezi programováním v Javascriptu nebo Pythonu a programováním v Céčku, zadruhé si s sebou spousta programátorů-samouků přinese špatné návyky, které je potřeba se odnaučit. Naopak pokud hned na začátku semestru zjistíte, že máte v něčem mezery, snažte se je co nejrychleji doplnit, abyste mohli plně věnovat pozornost tomu, co se probírá.
- **Ptejte se cvičících, když něčemu nerozumíte.** Ať už v pátek osobně na cvičení, e-mailem, discordem, nebo poštovním holubem. Pokud se váš dotaz bude týkat předmětu PA1 nebo programovacího jazyka C, pak nemůže být špatný, hloupý nebo nevhodný. Tím, že se nezeptáte, tak ubližujete nejen sobě, ale všem ostatním studentům, kteří se neodhodlali zeptat na to samé. My cvičící už nějakou dobu programujeme a koncepty, které vám předáváme, nám přijdou úplně přirozené, tím pádem se ale může stát, že něco nevysvětlíme dostatečně dobře a vám to pak bude bránit v chápání navazujících témat. Takže se ptejte. (*Just do it!*)
- **Choďte do školy.** Zní to triviálně, ale myslím to možná jinak, než si myslíte. Možná vám programování půjde, možná s ním budete bojovat, možná to budete chtít vzdát, protože vám ujel vlak (třeba protože jste si pozorně nepřečetli první bod :D). V každém případě to nejhorší, co můžete udělat, je vykašlat se na chození na přednášky a cvika a snažit se všechno dohnat sami. I když půjdete na cviko a třeba nebudete chápat úplně všechno, i tak vám to dá zase o jeden kousek zkušenosti s programováním navíc. Neexistuje cesta zpátky, jen vpřed, a s každým řádkem kódu, který napíšete, a každým přednáškovým slidem, který vám Láďa Vagner odpřednáší, se posouváte blíž k porozumění a úspěšnému absolvování předmětu. Kdosi tomu říká [*The unreasonable effectiveness of just showing up everyday*](https://typesense.org/blog/the-unreasonable-effectiveness-of-just-showing-up-everyday/){:target="_blank"} a já bych to asi lépe nenazval.
- **Nezapomínejte na znalostní testy!** Týden před každým znalostním testem je navíc puštěný demotest, který si můžete pustit kolikrát chcete a který vás v podstatě zadarmo připraví na ostrý test. Vedle progtestových domácích úloh se na znalostní testy snadno zapomene, ale získání bodů z nich je nutnou podmínkou pro absolvování předmětu!
- **Neodkládejte progtesty!!** (Vizte níž.)

### Jak zvládnout Progtest?

**Hlavně ho nedělat na poslední chvíli.** Osobně bych vám doporučil následující strategii, která se mi osobně jako studentovi osvědčila:

1. V sobotu v 0.00 hodin dropne progtestová úloha. Pokud jste zrovna v bdělém stavu, přečtěte si zadání, postěžujte si na fakultním discordu a běžte spát. Pokud jste ve stavu jiném než bdělém, vyčkejte na přechod do bdělého stavu a pokračujte bodem č. 2.
2. V sobotu dopoledne si udělejte nějakou dobrou snídani, přečtěte si (znovu) zadání a promyslete si nástřel řešení. Většinou to první, které vás napadne, bude (víc nebo míň) blbě, ale to nevadí. Taky doporučuju, než si vůbec sednete za počítač a začnete bušit kód, vemte si tužku a papír a nakreslete si obrázek nebo si rozepište pár *instancí* problému, který máte řešit, a ověřte si, že vaše intuitivní chápání sedí s realitou.
3. Zbytek dne zkoušejte úlohu vyřešit. Není to proto, abyste byli první nebo abyste ji vyřešili hned první víkend (byť to doporučuju a považuju to za velmi reálné). Ale tím, že se s ní seznámíte už o víkendu, si dost pomůžete --- jednak přirozeně budete mít náskok a víc času na vyřešení, ale hlavně pak budete moct během týdne úlohu diskutovat s ostatními studenty a studentkami a se svými cvičícími, protože budete chápat, o co v ní jde a kde je problém.
4. ~~Pokud~~ Až nastane situace, že vám z progtestu už půjde hlava kolem nebo prostě nebudete vědět jak dál, běžte se projít, najíst, prostě si dejte pauzu, udělejte něco pro sebe a nemyslete vůbec na programování. Buďto se stane, že dostanete během procházky nápad, který vás dovede k úspěšnému vyřešení (jednou jsem si takhle uvědomil bug v metru, opravil jednu řádku a mobilem poslal řešení na plný počet...), nebo žádný nápad nedostanete, ale přijdete zpátky k počítači s čerstvým pohledem a jasnější myslí.
5. Pokud ani to nepomůže, nebojte se poprosit o pomoc cvičícího nebo cvičící, případně kolektivní moudro FIT Discordu.

### FAQ

**Můžu se o řešení progtestu bavit s kamarády? Jak se pozná, že někdo opsal řešení?**

O progtestových úlohách se s kamarády a kamarádkami můžete bavit, můžete si napovídat, můžete si prozradit celou podstatu řešení --- morální úsudek je čistě na vás. Nicméně pokud byste byli v napovídání natolik sugestivní, že by se vaše a kamarádovo nebo kamarádčino řešení podezřele podobalo (ne nutně ve smyslu doslovné textové shody zdrojáků, ale prostě struktury toho kódu jako takového), riskujete, že budete čelit zvídavým otázkám u ústní části zkoušky předmětu.

Vždy stačí použít selský rozum --- funkci na porovnání dvou floatů, nalezení počtu přestupných roků v intervalu nebo rozhodnutí o sudosti celého čísla budou mít všichni studenti stejně, protože není zas tolik způsobů, jak ji napsat. Nicméně s rostoucí komplexitou problému se pravděpodobnost identických řešení velmi rychle zmenšuje, takže se nemusíte bát, že byste omylem napsali úplně stejný program, jako nějaký kolega nebo kolegyně.

**Můžu v předmětu PA1 používat AI (GitHub Copilot, ChatGPT, atd.)?**

Důrazně to nedoporučujeme. Zaprvé hrozí, že nebudete sami, a tím pádem se objeví problém s plagiátorstvím, a zadruhé, když se naučíte psát kód za pomoci AI, tak u zkoušky zjistíte, že sami nic nenapíšete.

**Můžu v předmětu PA1 používat IDE (CLion, Visual Studio, atd.)?**

Zezačátku od toho mírně odrazujeme, protože chceme, abyste viděli, že na vytvoření programu není potřeba nic jiného než textový soubor a překladač, a chceme, abyste procesu kompilace trochu rozuměli. Celé PA1 si bohatě vystačíte s textovým editorem (dobrý nápad je asi mít editor se zvýrazňováním syntaxe a language supportem, abyste sémantické chyby mohli opravit rovnou a ne teprve, až vás seřve překladač) a příkazovou řádkou, nicméně pokud jste si jistí, že víte, co za vás IDE dělají "pod kapotou", pak není problém je používat.

**Jak mám odevzdat úlohu na code review?**

TBA.

**Co znamená Segmentation fault a jak to opravím?**

Ve většině případů vám program spadne na `Segmentation fault` tehdy, když čtete z / zapisujete do paměti, která programu nebyla přidělená. Jinými slovy je váš program špatně nebo obsahuje bug.

Jak postupovat:

Zkompilujte program s debugovými informacemi (`-g`) a address sanitizerem (`-fsanitize=address`):
```shell
g++ -Wall -pedantic -g -fsanitize=address program.c
```

Spusťte program, zadejte problémový vstup a najděte ve výstupu address sanitizeru číslo řádky, kde probíhá INVALID READ nebo INVALID WRITE. Pokud je adresa 0x0000..., dereferencovali jste NULL pointer. V opačném případě nejspíš přetékáte z pole nebo přistupujete na již uvolněnou paměť.

Alternativně:

Zkompilujte program s debugovými informacemi (`-g`):
```shell
g++ -Wall -pedantic -g program.c
```
a předejte program jako argument nástroji `valgrind`:
```shell
valgrind a.out
```

Opět zadejte problémový vstup a analyzujte výstup nástroje `valgrind`.

Pozn. Někdy (obsahuje-li kód nedefinované chování) se může stát, že se chyba projeví pouze po kompilaci s optimalizacemi, v takovém případě zkuste kompilovat navíc s přepínači `-O1`, `-O2`, nebo `-O3`.

**Můj program se chová jinak, než očekávám, že se bude chovat.**

Odlaďte (oddebugujte) si ho. Ujistěte se, že spouštíte správnou verzi programu a při kompilaci nedostáváte varování. Kompilujte bez optimalizací a s debugovými informacemi:
```shell
g++ -Wall -pedantic -g -O0 program.c
```

Spusťte program v GNU debuggeru (`gdb`). (Pokud přesměrováváte vstup ze souboru, nesměrujte ho do programu `gdb`, přesměrování zajistíte až v rozhraní debuggeru.)
```shell
gdb a.out
```

Přehled užitečných příkazů v rozhraní `gdb`:

- `run`, `run < in.txt` --- spusť program (s případným přesměrovaným vstupem)
- `s`, `start`, `start < in.txt` --- nastav breakpoint na funkci `main` a spusť program (s případným přesměrovaným vstupem)
- `b <funkce | cisloradku>`, `break <funkce | cisloradku>` --- nastav breakpoint na funkci `<funkce>` nebo na řádek `<cisloradku>`
- `d <cislo>`, `delete <cislo>` --- smaž breakpoint s číslem `<cislo>`
- `n`, `next` --- vykonej jednu řádku
- `s`, `step` --- vykonej jednu řádku, ale pokud je v ní volání funkce, zastav se po vstupu do té funkce
- `fin`, `finish` --- pokračuj ve vykonávání programu až do návratu z funkce
- `c`, `continue` --- pokračuj ve vykonávání programu do dalšího breakpointu (nebo do konce)
- `p <expression>`, `print <expression>` --- zobraz hodnotu výrazu `<expression>` (např. proměnné, prvku v poli, registru...)
- `display <expression>` --- zobrazuj průběžně hodnotu výrazu `<expression>` po každém kroku (`n`, `s`...)
- `list` --- zobraz několik následujících řádek zdrojového kódu --- spíše bych doporučil visual mode (vizte níž)
- `help` --- zobraz dokumentaci / nápovědu
- **Enter** --- zopakuj poslední příkaz (nezahlcuje historii příkazů)
- **Šipky nahoru a dolů** --- procházení historie příkazů, nefunguje ve visual módu
- `bt` --- backtrace, užitečné po pádu programu, ukáže vám, kde program spadl a kterými funkcemi se tam dostal
- **Ctrl+X A** --- přepni mezi command line módem a visual módem

Nastavte si breakpoint na místo v kódu, které vás zajímá, prokrokujte si ho a pozorujte, jestli obsahy všech relevantních proměnných sedí s vaším očekáváním.

Pokud používáte IDE, debugování pro vás bude podstatně jednodušší díky grafickému rozhraní, nicméně myšlenka je totožná.

Pro odhalení nedefinovaného chování ve vašem kódu lze využít přepínače `-fsanitize=undefined` (při překladu).

*Secret tip*: Pokud byste se při debugování chtěli zastavit na nějakém místě pouze v případě, že je splněná nějaká podmínka (například vás zajímají pouze některé iterace smyčky), dá se překladači "vnutit" umístění instrukce breakpointu do samotného programu:
```c
#ifndef __PROGTEST__
/* This will trigger a breakpoint only when my_condition(x) is true */
if (my_condition(x)) __asm__("int 3");
#endif
```
Takový program lze pak spouštět **pouze v debuggeru**, jinak spadne s chybou `SIGTRAP (trace/breakpoint trap)`.

---
<br/>
<small>(Naposledy aktualizováno 5. 9. 2023.)</small>
